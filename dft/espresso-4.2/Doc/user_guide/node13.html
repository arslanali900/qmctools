<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>2.6 Running examples</TITLE>
<META NAME="description" CONTENT="2.6 Running examples">
<META NAME="keywords" CONTENT="user_guide">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="user_guide.css">

<LINK REL="next" HREF="node14.html">
<LINK REL="previous" HREF="node12.html">
<LINK REL="up" HREF="node7.html">
<LINK REL="next" HREF="node14.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html460"
  HREF="node14.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.gif"></A> 
<A NAME="tex2html456"
  HREF="node7.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.gif"></A> 
<A NAME="tex2html450"
  HREF="node12.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.gif"></A> 
<A NAME="tex2html458"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html461"
  HREF="node14.html">2.7 Installation tricks and</A>
<B> Up:</B> <A NAME="tex2html457"
  HREF="node7.html">2 Installation</A>
<B> Previous:</B> <A NAME="tex2html451"
  HREF="node12.html">2.5 Compilation</A>
 &nbsp; <B>  <A NAME="tex2html459"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00036000000000000000"></A>
<A NAME="SubSec:Examples"></A>
<BR>
2.6 Running examples
</H2>
As a final check that compilation was successful, you may want to run some or
all of the examples. You should first of all ensure that you have downloaded 
and correctly unpacked the package containing examples (since v.4.1 in a
separate package). There are two
different types of examples: 

<UL>
<LI>automated tests (in directories <TT>tests/</TT> 
and <TT>cptests/</TT>). Quick and exhaustive, but not
meant to be realistic, implemented only for .x and .x.
</LI>
<LI>examples (in directory <TT>examples/</TT>).
Cover many more programs and features of the Q<SMALL>UANTUM </SMALL>ESPRESSO distribution,
but they require manual inspection of the results. 
</LI>
</UL>

<P>
Let us first consider the tests. Automated tests for .x are in directory 
<TT>tests/</TT>. File <TT>tests/README</TT> contains a list of what is tested.
To run tests, follow the directions in the header if file 
<TT>check_pw.x.j</TT>, edit variables PARA_PREFIX, PARA_POSTFIX 
if needed (see below). Same for .x, this time in directory 
<TT>cptests/</TT>.

<P>
Let us now consder examples. A list of examples and of what each example
does is contained in <TT>examples/README</TT>. 
For details, see the <TT>README</TT> file in each example's directory. 
If you find that any relevant feature isn't being tested, please contact us 
(or even better, write and send us a new example yourself !).

<P>
To run the examples, you should follow this procedure:

<OL>
<LI>Go to the <TT>examples/</TT> directory and edit the 
  <TT>environment_variables</TT> file, setting the following variables as needed: 
<BLOCKQUOTE>
BIN_DIR: directory where executables reside
<BR>
PSEUDO_DIR: directory where pseudopotential files reside
<BR>
TMP_DIR: directory to be used as temporary storage area

</BLOCKQUOTE>
The default values of BIN_DIR and PSEUDO_DIR should be fine, 
unless you have installed things in nonstandard places. TMP_DIR 
must be a directory where you have read and write access to, with 
enough available space to host the temporary files produced by the 
example runs, and possibly offering high I/O performance (i.e., don't 
use an NFS-mounted directory). NOTA BENE: do not use a
directory containing other data, the examples wil clean it!
</LI>
<LI>If you have compiled the parallel version of Q<SMALL>UANTUM </SMALL>ESPRESSO (this
is the default if parallel libraries are detected), you will usually
have to specify a driver program (such as <TT>mpirun</TT> or <TT>mpiexec</TT>) 
and the number of processors: see Sec.<A HREF="node17.html#SubSec:para">3.2</A> for
details. In order to do that, edit again the <TT>environment_variables</TT> 
file
and set the PARA_PREFIX and PARA_POSTFIX variables as needed. 
Parallel executables will be run by a command like this: 
<PRE>
      $PARA_PREFIX pw.x $PARA_POSTFIX &lt; file.in &gt; file.out
</PRE>
For example, if the command line is like this (as for an IBM SP):
<PRE>
      poe pw.x -procs 4 &lt; file.in &gt; file.out
</PRE>
you should set PARA_PREFIX="poe", PARA_POSTFIX="-procs
4". Furthermore, if your machine does not support interactive use, you
must run the commands specified below through the batch queuing
system installed on that machine. Ask your system administrator for
instructions. 
</LI>
<LI>To run a single example, go to the corresponding directory (e.g.
 <TT>example/example01</TT>) and execute: 
<PRE>
      ./run_example
</PRE>
This will create a subdirectory results, containing the input and
output files generated by the calculation. Some examples take only a
few seconds to run, while others may require several minutes depending
on your system. To run all the examples in one go, execute:
<PRE>
      ./run_all_examples
</PRE>
from the examples directory. On a single-processor machine, this
typically takes a few hours. The <TT>make_clean</TT> script cleans the
examples tree, by removing all the results subdirectories. However, if
additional subdirectories have been created, they aren't deleted. 

<P>
</LI>
<LI>In each example's directory, the <TT>reference/</TT> subdirectory contains
verified output files, that you can check your results against. They
were generated on a Linux PC using the Intel compiler. On different
architectures the precise numbers could be slightly different, in
particular if different FFT dimensions are automatically selected. For
this reason, a plain diff of your results against the reference data
doesn't work, or at least, it requires human inspection of the
results. 
</LI>
</OL>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html460"
  HREF="node14.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.gif"></A> 
<A NAME="tex2html456"
  HREF="node7.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.gif"></A> 
<A NAME="tex2html450"
  HREF="node12.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.gif"></A> 
<A NAME="tex2html458"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html461"
  HREF="node14.html">2.7 Installation tricks and</A>
<B> Up:</B> <A NAME="tex2html457"
  HREF="node7.html">2 Installation</A>
<B> Previous:</B> <A NAME="tex2html451"
  HREF="node12.html">2.5 Compilation</A>
 &nbsp; <B>  <A NAME="tex2html459"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
Paolo Giannozzi
2010-05-07
</ADDRESS>
</BODY>
</HTML>
